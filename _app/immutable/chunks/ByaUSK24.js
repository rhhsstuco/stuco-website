var he=Object.getPrototypeOf;var me=Reflect.get;var G=a=>{throw TypeError(a)};var V=(a,r,e)=>r.has(a)||G("Cannot "+e);var n=(a,r,e)=>(V(a,r,"read from private field"),e?e.call(a):r.get(a)),L=(a,r,e)=>r.has(a)?G("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(a):r.set(a,e);var U=(a,r,e)=>(V(a,r,"access private method"),e);var B=(a,r,e)=>me(he(a),e,r);import{f as T,a as w,j as A,i as pe,e as F}from"./CMHeQAyb.js";import{aN as ge,aO as _e,aP as we,z as be,q as J,G as ze,O as Ee,N as Re,E as Le,U as Me,ak as z,i as o,o as v,c as I,r as N,p as re,a as te,P as Ae,d as K,m as y,f as Q,T as C,s as X,t as Y}from"./1vnkDbWB.js";import{i as q}from"./DA-F6a7n.js";import{a as $,c as Ie}from"./Dp1uhsaC.js";import{a as ee}from"./BlArtMmy.js";import{p as se,u as ae}from"./Cay8eWeI.js";import{i as M}from"./DVPg_2Dt.js";import{s as ie}from"./DmLr0WJD.js";import{b as Ne}from"./B2K2Lydr.js";import{P as Te}from"./BCMydFCP.js";function Ue(a,r,e){J&&ze();var t=a,s=Me,i,l=ge()?_e:we;be(()=>{l(s,s=r())&&(i&&Ee(i),i=Re(()=>e(t)))}),J&&(t=Le)}var f,d,h,E,O;const H=class H extends Map{constructor(e){super();L(this,E);L(this,f,new Map);L(this,d,z(0));L(this,h,z(0));if(e){for(var[t,s]of e)super.set(t,s);n(this,h).v=super.size}}has(e){var t=n(this,f),s=t.get(e);if(s===void 0){var i=super.get(e);if(i!==void 0)s=z(0),t.set(e,s);else return o(n(this,d)),!1}return o(s),!0}forEach(e,t){U(this,E,O).call(this),super.forEach(e,t)}get(e){var t=n(this,f),s=t.get(e);if(s===void 0){var i=super.get(e);if(i!==void 0)s=z(0),t.set(e,s);else{o(n(this,d));return}}return o(s),super.get(e)}set(e,t){var c;var s=n(this,f),i=s.get(e),l=super.get(e),m=super.set(e,t),p=n(this,d);if(i===void 0)s.set(e,z(0)),v(n(this,h),super.size),M(p);else if(l!==t){M(i);var g=p.reactions===null?null:new Set(p.reactions),P=g===null||!((c=i.reactions)!=null&&c.every(b=>g.has(b)));P&&M(p)}return m}delete(e){var t=n(this,f),s=t.get(e),i=super.delete(e);return s!==void 0&&(t.delete(e),v(n(this,h),super.size),v(s,-1),M(n(this,d))),i}clear(){if(super.size!==0){super.clear();var e=n(this,f);v(n(this,h),0);for(var t of e.values())v(t,-1);M(n(this,d)),e.clear()}}keys(){return o(n(this,d)),super.keys()}values(){return U(this,E,O).call(this),super.values()}entries(){return U(this,E,O).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return o(n(this,h)),super.size}};f=new WeakMap,d=new WeakMap,h=new WeakMap,E=new WeakSet,O=function(){o(n(this,d));var e=n(this,f);if(n(this,h).v!==e.size)for(var t of B(H.prototype,this,"keys").call(this))e.has(t)||e.set(t,z(0));for(var[,s]of n(this,f))o(s)};let j=H;const Ce=8,Oe=14,Pe=a=>{const r=()=>{const t=Array.from(a.children).find(m=>m.tagName==="PICTURE");if(!t)return;const s=t.lastElementChild,i=+s.getAttribute("width")/+s.getAttribute("height"),l=window.innerWidth/window.innerHeight;i>l&&(t.style.width=`min(calc(100vw - ${Ce}rem), 40rem)`,t.style.height=""),i<l&&(t.style.height=`min(calc(100vh - ${Oe}rem), 48rem)`,t.style.width="")};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)};var ke=T('<div class="card svelte-1udji7p"><!></div>');function xe(a,r){var e=ke(),t=I(e);ie(t,()=>r.children),N(e),w(a,e)}var ye=T('<dialog class="svelte-1gs0ezf"><!></dialog>');function qe(a,r){re(r,!0);let e=se(r,"dialog",15);var t=ye(),s=I(t);ie(s,()=>r.children??Ae),N(t),Ne(t,i=>e(i),()=>e()),A("close",t,function(...i){var l;(l=r.onclose)==null||l.apply(this,i)}),w(a,t),te()}var je=(a,r)=>{r()!==null&&r()>0&&ae(r,-1)},He=T('<button aria-label="view previous image" class="nav-button prev-nav-button svelte-bva0w4"><i></i></button>'),Se=(a,r,e)=>{r()!==null&&r()<o(e)-1&&ae(r)},We=T('<button aria-label="view next image" class="nav-button next-nav-button svelte-bva0w4"><i></i></button>'),Ze=T('<div class="dialog__image svelte-bva0w4"><!> <!> <!></div>');function rr(a,r){re(r,!0);let e=se(r,"selectedImageIndex",15),t=C(()=>r.imageURLs.map((c,b)=>({index:b,url:c}))),s=C(()=>new j(o(t).map(({url:c,index:b})=>[b,c]))),i=C(()=>r.imageURLs.length),l=y(!1),m=y(!1),p=C(()=>e()===null?null:o(s).get(e())||null),g=y(void 0);K(()=>{e(),v(m,!1),v(l,!1)}),K(()=>{e(),!(!o(g)||e()===null)&&o(g).showModal()});function P(){e(null)}qe(a,{onclose:P,get dialog(){return o(g)},set dialog(c){v(g,c,!0)},children:(c,b)=>{var S=F(),ne=Q(S);Ue(ne,()=>o(p),oe=>{var W=F(),le=Q(W);{var ue=k=>{xe(k,{children:(ve,De)=>{var R=Ze(),Z=I(R);{var ce=_=>{var u=He();u.__click=[je,e];var x=I(u);N(u),Y(()=>ee(x,1,`ri-arrow-left-circle-${o(l)?"fill":"line"}`,"svelte-bva0w4")),A("mouseenter",u,()=>v(l,!0)),A("mouseleave",u,()=>v(l,!1)),w(_,u)};q(Z,_=>{e()!==0&&_(ce)})}var D=X(Z,2);Te(D,{get meta(){return o(p)}});var fe=X(D,2);{var de=_=>{var u=We();u.__click=[Se,e,i];var x=I(u);N(u),Y(()=>ee(x,1,`ri-arrow-right-circle-${o(m)?"fill":"line"}`,"svelte-bva0w4")),A("mouseenter",u,()=>v(m,!0)),A("mouseleave",u,()=>v(m,!1)),w(_,u)};q(fe,_=>{e()!==o(i)-1&&_(de)})}N(R),$(R,()=>Ie(()=>o(g).close())),$(R,()=>Pe),w(ve,R)}})};q(le,k=>{e()!==null&&o(p)!==null&&k(ue)})}w(oe,W)}),w(c,S)},$$slots:{default:!0}}),te()}pe(["click"]);export{xe as C,rr as a,Ue as k};
