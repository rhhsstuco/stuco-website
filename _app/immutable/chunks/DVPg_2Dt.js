var u=t=>{throw TypeError(t)};var h=(t,e,s)=>e.has(t)||u("Cannot "+s);var c=(t,e,s)=>(h(t,e,"read from private field"),s?s.call(t):e.get(t)),o=(t,e,s)=>e.has(t)?u("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),f=(t,e,s,n)=>(h(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s);import{o as d}from"./CMHeQAyb.js";import{o as m,aE as b,i as p,w as g,ak as k,g as _,aF as w}from"./1vnkDbWB.js";function v(t){m(t,t.v+1)}function x(t){let e=0,s=k(0),n;return()=>{b()&&(p(s),g(()=>(e===0&&(n=_(()=>t(()=>v(s)))),e+=1,()=>{w().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}var r,a;class M{constructor(e,s){o(this,r);o(this,a);f(this,r,e),f(this,a,x(s))}get current(){return c(this,a).call(this),c(this,r).call(this)}}r=new WeakMap,a=new WeakMap;const S=/\(.+\)/,y=new Set(["all","print","screen","and","or","not","only"]);class Q extends M{constructor(e,s){let n=S.test(e)||e.split(/[\s,]+/).some(i=>y.has(i.trim()))?e:`(${e})`;const l=window.matchMedia(n);super(()=>l.matches,i=>d(l,"change",i))}}export{Q as M,v as i};
