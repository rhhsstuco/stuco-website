import{a as i,a_ as c,g as o,v as f,aC as l,f as u,t as h,a$ as d}from"./qAjYaUGA.js";function p(t){i(t,t.v+1)}function b(t){let e=0,s=l(0),n;return()=>{c()&&(o(s),f(()=>(e===0&&(n=u(()=>t(()=>p(s)))),e+=1,()=>{h().then(()=>{e-=1,e===0&&(n?.(),n=void 0)})})))}}class m{#e;#t;constructor(e,s){this.#e=e,this.#t=b(s)}get current(){return this.#t(),this.#e()}}const _=/\(.+\)/,g=new Set(["all","print","screen","and","or","not","only"]);class v extends m{constructor(e,s){let n=_.test(e)||e.split(/[\s,]+/).some(r=>g.has(r.trim()))?e:`(${e})`;const a=window.matchMedia(n);super(()=>a.matches,r=>d(a,"change",r))}}export{v as M,p as i};
