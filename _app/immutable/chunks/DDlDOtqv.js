import{aS as i,g as o,aG as u,y as l,k as f,aT as c,z as d,aU as h}from"./C88jFJ6y.js";function m(r){let e=0,s=u(0),t;return()=>{i()&&(o(s),l(()=>(e===0&&(t=f(()=>r(()=>c(s)))),e+=1,()=>{d(()=>{e-=1,e===0&&(t?.(),t=void 0,c(s))})})))}}class p{#e;#s;constructor(e,s){this.#e=e,this.#s=m(s)}get current(){return this.#s(),this.#e()}}const _=/\(.+\)/,b=new Set(["all","print","screen","and","or","not","only"]);class k extends p{constructor(e,s){let t=_.test(e)||e.split(/[\s,]+/).some(n=>b.has(n.trim()))?e:`(${e})`;const a=window.matchMedia(t);super(()=>a.matches,n=>h(a,"change",n))}}export{k as M};
