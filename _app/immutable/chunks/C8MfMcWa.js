import{a_ as i,g as o,a7 as u,G as l,w as f,a$ as c,H as d,b0 as h}from"./ZUn1EqYv.js";function _(r){let e=0,s=u(0),t;return()=>{i()&&(o(s),l(()=>(e===0&&(t=f(()=>r(()=>c(s)))),e+=1,()=>{d(()=>{e-=1,e===0&&(t?.(),t=void 0,c(s))})})))}}class b{#e;#s;constructor(e,s){this.#e=e,this.#s=_(s)}get current(){return this.#s(),this.#e()}}const m=/\(.+\)/,p=new Set(["all","print","screen","and","or","not","only"]);class k extends b{constructor(e,s){let t=m.test(e)||e.split(/[\s,]+/).some(n=>p.has(n.trim()))?e:`(${e})`;const a=window.matchMedia(t);super(()=>a.matches,n=>h(a,"change",n))}}export{k as M};
