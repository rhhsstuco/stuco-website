import{i as $,f as w,a as v,t as Se,e as K}from"../chunks/CMHeQAyb.js";import{o as ze}from"../chunks/eEvKBYRD.js";import{c as n,s as u,P as ke,r as s,t as P,i as e,T as M,V as Ee,p as ee,aG as je,f as G,a as te,n as ue,d as Pe,o as ve,m as Te}from"../chunks/1vnkDbWB.js";import{i as I}from"../chunks/DA-F6a7n.js";import{e as R,i as W,M as Ce}from"../chunks/BEXXF4dq.js";import{a as Le,s as Ye}from"../chunks/BlArtMmy.js";import{p as ce}from"../chunks/oBuGNOnh.js";import{s as F}from"../chunks/C9nSLGgw.js";import{s as Q}from"../chunks/D6DV3sL8.js";import{t as Fe,f as He}from"../chunks/CGB6j1Xf.js";import{p as de}from"../chunks/Cay8eWeI.js";import{t as _e}from"../chunks/BeetlkIF.js";import{p as Ne}from"../chunks/DqWyLAut.js";import{s as Ie}from"../chunks/DmLr0WJD.js";import{h as Ae,H as Oe}from"../chunks/DvZTtcee.js";import{a as Re,b as We}from"../chunks/Bbs0QkRh.js";import{L as Ge}from"../chunks/mlIDn0L0.js";function Je(c){return c/=.5,c<1?.5*c*c:(c--,-.5*(c*(c-2)-1))}var qe=w('<div class="svelte-92mx0f"> </div>'),Be=w('<div class="svelte-92mx0f"> </div>'),Ke=w('<div class="calendar-day__event-count svelte-92mx0f"><!> <!></div>'),Qe=w('<button class="calendar-day svelte-92mx0f"><!> <!></button>');function Ue(c,t){function g(r){if(!r)return[0,0];let d=0,x=0;for(const m of r)m.type==="school"?d++:x++;return[d,x]}let f=M(()=>g(t.events)),l=M(()=>Ee(e(f),2)),z=M(()=>e(l)[0]),H=M(()=>e(l)[1]);var k=Qe();k.__click=function(...r){var d;(d=t.onclick)==null||d.apply(this,r)};var C=n(k);{var L=r=>{var d=Ke(),x=n(d);{var m=p=>{var D=qe();Q(D,"--color-badge: var(--color-badge-school);");var b=n(D,!0);s(D),P(()=>F(b,e(z))),v(p,D)};I(x,p=>{e(z)!=0&&p(m)})}var S=u(x,2);{var N=p=>{var D=Be();Q(D,"--color-badge: var(--color-badge-club);");var b=n(D,!0);s(D),P(()=>F(b,e(H))),v(p,D)};I(S,p=>{e(H)!=0&&p(N)})}s(d),v(r,d)};I(C,r=>{t.onclick&&r(L)})}var h=u(C,2);Ie(h,()=>t.children??ke),s(k),P(()=>k.disabled=!t.onclick),v(c,k)}$(["click"]);var Ve=w('<div class="calendar-detail__content__events__event svelte-g5jfz3"><h4 class="svelte-g5jfz3"> </h4> <p class="svelte-g5jfz3"><!></p></div>'),Xe=w('<div class="calendar-detail__no-events svelte-g5jfz3">No events on this day.</div>'),Ze=w('<div class="calendar-detail svelte-g5jfz3"><div class="calendar-detail__content svelte-g5jfz3"><div class="calendar-detail__content__heading svelte-g5jfz3"><div class="calendar-detail__content__heading__header svelte-g5jfz3"><button class="svelte-g5jfz3">&times;</button> <span class="school-event svelte-g5jfz3">School</span> <span class="club-event svelte-g5jfz3">Club</span></div> <h3 class="svelte-g5jfz3"> </h3></div> <div class="calendar-detail__content__events svelte-g5jfz3"></div></div></div>');function $e(c,t){ee(t,!0);var g=Ze(),f=n(g),l=n(f),z=n(l),H=n(z);H.__click=function(...h){var r;(r=t.onclose)==null||r.apply(this,h)},je(4),s(z);var k=u(z,2),C=n(k,!0);s(k),s(l);var L=u(l,2);R(L,21,()=>t.events,W,(h,r)=>{var d=Ve(),x=n(d),m=n(x,!0);s(x);var S=u(x,2),N=n(S);{var p=b=>{var E=Se();P(()=>F(E,e(r).description)),v(b,E)},D=b=>{var E=K(),i=G(E);Ae(i,()=>e(r).description),v(b,E)};I(N,b=>{e(r).useHTML?b(D,!1):b(p)})}s(S),s(d),P(()=>{Q(x,`--color-badge: var(--color-badge-${e(r).type})`),F(m,e(r).name)}),v(h,d)},h=>{var r=Xe();v(h,r)}),s(L),s(f),s(g),P(h=>F(C,h),[()=>t.date.toLocaleDateString("en-us",{year:"numeric",month:"long",day:"numeric"})]),v(c,g),te()}$(["click"]);var et=(c,t,g,f)=>t(new Date(e(g),e(f)-1,1)),tt=(c,t,g,f)=>t(new Date(e(g),e(f)+1,1)),at=w('<div class="svelte-x8tf7f"> </div>'),rt=w('<span class="calendar__body__day svelte-x8tf7f"> </span>'),st=w("<div></div>"),nt=w('<div class="calendar__body__event svelte-x8tf7f"><div class="text-wrapper svelte-x8tf7f"> </div></div>'),ot=w('<div class="calendar-detail svelte-x8tf7f"><!></div>'),lt=w('<div class="calendar svelte-x8tf7f"><div class="calendar__header svelte-x8tf7f"><div class="calendar__header__date svelte-x8tf7f"><button aria-label="Previous month" class="svelte-x8tf7f"><i class="ri-arrow-left-s-line svelte-x8tf7f"></i></button> <h2 class="svelte-x8tf7f"> </h2> <button aria-label="Next month" class="svelte-x8tf7f"><i class="ri-arrow-right-s-line svelte-x8tf7f"></i></button></div> <div class="calendar__header__days svelte-x8tf7f"></div></div> <div><!> <!>  <!></div></div>');function it(c,t){ee(t,!0);const g=1e3*60*60*24,f=7,l=["January","February","March","April","May","June","July","August","September","October","November","December"],z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function H(a,o){const _=new Map;return a.forEach(y=>{const A=o(y);for(const Y of A){const T=_.get(Y)||[];T.push(y),_.set(Y,T)}}),_}function k(a,o){const _=new Date(a),y=new Date(o);return _.setHours(0,0,0,0),y.setHours(0,0,0,0),(y.getTime()-_.getTime())/g}function C(a){return a%4===0&&a%100!==0&&a%400!==0||a%100===0&&a%400===0}function L(a){return C(a)?29:28}let h=de(t,"date",31,()=>ue(new Date)),r=de(t,"selectedDate",15);const d=a=>()=>r(a);let x=M(()=>H(t.events,a=>{const o=Array(k(a.startDate,a.endDate)+1).fill(0),_=a.startDate.getFullYear(),y=a.startDate.getMonth(),A=a.startDate.getDate();return o.map((Y,T)=>new Date(_,y,A+T).toDateString())})),m=M(()=>h().getMonth()),S=M(()=>h().getFullYear()),N=M(()=>[31,L(e(S)),31,30,31,30,31,31,30,31,30,31]),p=M(()=>new Date(e(S),e(m),1).getDay()%7),D=M(()=>Math.ceil((e(p)+e(N)[e(m)])/7));var b=lt(),E=n(b),i=n(E),j=n(i);j.__click=[et,h,S,m];var U=u(j,2),ge=n(U);s(U);var he=u(U,2);he.__click=[tt,h,S,m],s(i);var ae=u(i,2);R(ae,21,()=>z,W,(a,o)=>{var _=at(),y=n(_,!0);s(_),P(()=>F(y,e(o))),v(a,_)}),s(ae),s(E);var V=u(E,2);let re;var se=n(V);R(se,17,()=>({length:e(D)}),W,(a,o,_)=>{var y=K(),A=G(y);R(A,17,()=>({length:f}),W,(Y,T,J,oe)=>{var q=K();const B=M(()=>_*f+J-e(p)+1),le=M(()=>new Date(e(S),e(m),e(B))),ie=M(()=>e(B)>0&&e(B)<=e(N)[e(m)]);var De=G(q);{var xe=O=>{const X=M(()=>e(x).get(e(le).toDateString())),ye=M(()=>e(ie)&&d(e(le)));Ue(O,{get events(){return e(X)},get onclick(){return e(ye)},children:(Me,dt)=>{var Z=rt(),we=n(Z,!0);s(Z),P(()=>F(we,e(B))),v(Me,Z)}})},be=O=>{var X=st();v(O,X)};I(De,O=>{e(ie)?O(xe):O(be,!1)})}v(Y,q)}),v(a,y)});var ne=u(se,2);R(ne,17,()=>t.events.toReversed(),W,(a,o)=>{var _=K(),y=G(_);{var A=Y=>{var T=nt(),J=n(T),oe=n(J,!0);s(J),s(T),P(q=>{Q(T,q),F(oe,e(o).name)},[()=>`
						grid-row: ${Math.ceil((e(o).startDate.getDate()+e(p))/7)} / ${Math.ceil((e(o).endDate.getDate()+e(p))/7)};
						grid-column: ${e(o).startDate.getDay()+1} / ${e(o).endDate.getDay()+2};
						--color-badge: var(--color-badge-${e(o).type})
					`]),v(Y,T)};I(y,Y=>{e(o).startDate.getMonth()===e(m)&&e(o).startDate.getFullYear()===e(S)&&Y(A)})}v(a,_)});var me=u(ne,2);{var pe=a=>{var o=ot(),_=n(o);const y=M(()=>e(x).get(r().toDateString())||[]);$e(_,{get date(){return r()},get events(){return e(y)},onclose:()=>r(null)}),s(o),Fe(3,o,()=>He,()=>({x:250,opacity:1,duration:Ne.current?0:250,easing:Je})),v(a,o)};I(me,a=>{r()&&a(pe)})}s(V),s(b),P(a=>{F(ge,`${l[e(m)]??""} ${e(S)??""}`),re=Le(V,1,"calendar__body svelte-x8tf7f",null,re,a)},[()=>({"selected-date":r(),"dark-mode":_e.value==="dark","light-mode":_e.value==="light"})]),v(c,b),te()}$(["click"]);const fe=c=>{const t=new URL(window.location.toString());let g=!1;console.log(window.location.toString());for(let[f,l]of Object.entries(c))t.searchParams.get(f)!=l&&(g=!0),l===null?t.searchParams.delete(f):t.searchParams.set(f,l);if(g)try{Re(t.toString(),{})}catch{console.log("womp womp")}};var vt=w('<h3 class="events__list-no-events svelte-1cxrsrz">No Events This Month</h3>'),ct=w('<!> <main class="svelte-1cxrsrz"><h1 class="svelte-1cxrsrz">Events</h1> <!> <section class="month-events svelte-1cxrsrz"><h2 class="svelte-1cxrsrz">Events This Month</h2> <div class="events__list svelte-1cxrsrz"><!> <!></div></section> <section class="leaderboard svelte-1cxrsrz"><h2 class="svelte-1cxrsrz"><a class="svelte-1cxrsrz">Grade Wars Leaderboard</a></h2> <!></section></main>',1);function jt(c,t){ee(t,!0);let g=ue(f());function f(){const i=new Set;return t.data.events.filter(j=>j.startDate.getMonth()==new Date().getMonth()).filter(j=>i.has(j.name)?!1:(i.add(j.name),!0))}let l=Te(void 0),z=!0;ze(()=>{if(ce.url.searchParams.has("date")){const i=ce.url.searchParams.get("date").split("-");ve(l,new Date(+i[0],+i[1]-1,+i[2]),!0),z=!0}}),Pe(()=>{if(e(l)===void 0||z){z=!1;return}if(e(l)===null){fe({date:null});return}fe({date:`${e(l).getFullYear()}-${e(l).getMonth()+1}-${e(l).getDate()}`})});const H="Events | RHHS StuCo",k="Stay up to date on all school events here!";var C=ct(),L=G(C);Ce(L,{title:H,description:k,url:"https://rhhsstuco.ca/events"});var h=u(L,2),r=u(n(h),2);it(r,{get events(){return t.data.events},get selectedDate(){return e(l)},set selectedDate(i){ve(l,i,!0)}});var d=u(r,2),x=u(n(d),2),m=n(x);{var S=i=>{var j=vt();v(i,j)};I(m,i=>{g.length===0&&i(S)})}var N=u(m,2);R(N,17,()=>g,W,(i,j)=>{Oe(i,{get event(){return e(j)}})}),s(x),s(d);var p=u(d,2),D=n(p),b=n(D);s(D);var E=u(D,2);Ge(E,{get gradeColors(){return t.data.standings.rankings},get gradePoints(){return t.data.standings.gradePoints}}),s(p),s(h),P(()=>Ye(b,"href",`${We??""}/grade-wars`)),v(c,C),te()}export{jt as component};
